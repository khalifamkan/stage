<!DOCTYPE html>
<html>
<head>
<title>ToDo API Client Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">

<link href="../css/client.css" rel="stylesheet">

<link rel="icon" type="image/png" href="../images/favicon.png" />
<script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>

<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
</head>
<body><center>
    

    
        
    <div id="login" class="modal hide fade" tabindex="=1" role="dialog" aria-labelledby="loginLabel" aria-hidden="true">
        <div class="modal-header">
            <h3 id="loginLabel">Connexion</h3>
        </div>
        <div class="modal-body">
            <form class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="inputUsername">Login</label>
                    <div class="controls">
                        <input data-bind="value: username" type="text" id="inputUsername" placeholder="Username">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="inputPassword">Password</label>
                    <div class="controls">
                        <input data-bind="value: password" type="password" id="inputPassword" placeholder="Password">
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button data-bind="click: login" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Se Connecter</button>
        </div>
    </div>
    <script type="text/javascript">
        function etudiantsViewModel() {
            var self = this;
            
           
            
            

           
            
         
 			self.beginLogin = function(){
 				$('#login').modal('show');
 			}
           
            self.login = function(username, password) {
                self.username = username;
                self.password = password;
                
                }).fail(function(jqXHR) {
                    if (jqXHR.status == 403)
                        setTimeout(self.beginLogin, 500);
                });
            }
            
            self.beginLogin();
        }
        
 				
            
        }
       
        function LoginViewModel() {
            var self = this;
            self.username = ko.observable();
            self.password = ko.observable();
 
            self.login = function() {
                $('#login').modal('hide');
                etudiantsViewModel.login(self.username(), self.password());
            }
        }
        
        var etudiantsViewModel = new etudiantsViewModel();
       
      
        var loginViewModel = new LoginViewModel();
      
        ko.applyBindings(loginViewModel, $('#login')[0]);
  
    </script>
    <footer class ="navbar-inner">

    <div class="footer-left">
    Copyright &copy; 2016. Université Virtuelle du Sénégal</div>
    </footer>
</center>
</body>
</html>
